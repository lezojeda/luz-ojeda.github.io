<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Upload Picture</title>
		<link rel="stylesheet" href="style.css"  type='text/css'>
	</head>
	<body>
		<div class="container">
			<h1>Upload Picture</h1>
			<form id="uploadForm" enctype="multipart/form-data">
				<div class="form-group">
					<label for="image">Select Image:</label>
					<input type="file" id="image" name="image" accept="image/jpeg">
				</div>
				
				<div class="form-group">
					<label for="titleEn">Title (English):</label>
					<input type="text" id="titleEn" name="titleEn">
				</div>
				
				<div class="form-group">
					<label for="titleEs">Title (Espa√±ol):</label>
					<input type="text" id="titleEs" name="titleEs">
				</div>
				
				<div class="form-group">
					<label for="pubDate">Publication Date:</label>
					<input type="date" id="pubDate" name="pubDate">
				</div>
				
				<div class="form-group">
					<label for="filename">Filename:</label>
					<input type="text" id="filename" name="filename" required>
				</div>
				
				<button type="submit">Upload Picture</button>
			</form>
		</div>

		<script>
			document
				.getElementById("uploadForm")
				.addEventListener("submit", async function (e) {
					e.preventDefault();

					const formData = new FormData(this);

					try {
						const res = await fetch("http://thinkpadlo.local:3000/upload", {
							method: "POST",
							body: formData
						});

						if (!res.ok) 
							throw new Error("Upload failed");
						
						alert("Upload successful!");
						this.reset();
					} catch (err) {
						alert("Error uploading file");
						console.error(err);
					}
				});
		</script>
	</body>
</html>